---
title: "Models' results"
format: 
  html:
    theme: default
    page-layout: full
    toc: true
    toc-location: body
    self-contained: true
editor: visual
---

## Introduction

Variables present:

-   Expenditure per capita
-   Number of unemployed per 1000 people
-   GDP per capita
-   Investment per capita
-   \% of people with tertiary education
-   Binary dummies for poor regions

Expected coefficients:

-   Expenditure -\> negative
-   GDP -\> negative
-   Investment -\> negative
-   Education -\> negative

## 1 - Standard models including all the available variables

### 1.1 Absolute terms

Everything in absolute terms.

y = absolute value of unemployment

x = abs. value of gdp + abs. value of investment + abs. value of education + abs. value of expenditure + poor dummies

<div style="
  width: calc(100vw - 2rem);
  margin-left: calc(-50vw + 50% + 1rem);
  overflow-x: auto;
">
```{r, results='asis', echo=FALSE}
cat(readLines("ab.md"), sep = "\n")
```
</div>

Mean R-squared: 0.28

N. negative coefficients expenditure: 8/31 = `r round(8/31 * 100, 1)`%

N. significant coefficients expenditure: 22/31 = `r round(22/31 * 100, 1)`%

Comments:

-   Mostly positive coefficient for expenditure, often significant
-   Poor binaries tend to be significant and positive in the first years, negative in recent years. Mostly significant
-   GDP both positive and negative coefficients, more insignificant than significant
-   Investment most of the times is significant and when significant is negative
-   Education is positive, sometimes non-significant

<div style="
  width: calc(100vw - 2rem);
  margin-left: calc(-50vw + 50% + 1rem);
  overflow-x: auto;
">
```{r, results='asis', echo=FALSE}
cat(readLines("ab_int.md"), sep = "\n")
```
</div>

### 1.2 Growth rates

Everything in yearly growth rates, but expenditure in absolute terms.

y = yearly growth rate of unemployment

x = g.r. of gdp + g.r. of investment + g.r. of education + abs. value of expenditure + poor dummies

<div style="
  width: calc(100vw - 2rem);
  margin-left: calc(-50vw + 50% + 1rem);
  overflow-x: auto;
">
```{r, results='asis', echo=FALSE}
cat(readLines("gr.md"), sep = "\n")
```
</div>

Mean R-squared: 0.13

N. negative coefficients expenditure: 15/31 = `r round(15/31 * 100, 1)`%

N. significant coefficients expenditure: 6/31 = `r round(6/31 * 100, 1)`%

Comments:

-   Expenditure almost never significant, coefficients both ways
-   Poor not significant and coefficients both ways
-   GDP almost always negative and significant
-   Investment not often significant, but when significant negative
-   Education rarely significant and coefficients both ways

<div style="
  width: calc(100vw - 2rem);
  margin-left: calc(-50vw + 50% + 1rem);
  overflow-x: auto;
">
```{r, results='asis', echo=FALSE}
cat(readLines("gr_int.md"), sep = "\n")
```
</div>

### 1.3 All growth rates

Main difference with above is that also expenditure here is in growth rates.

y = yearly growth rate of unemployment

x = g.r. of gdp + g.r. of investment + g.r. of education + g.r. of expenditure + poor dummies

<div style="
  width: calc(100vw - 2rem);
  margin-left: calc(-50vw + 50% + 1rem);
  overflow-x: auto;
">
```{r, results='asis', echo=FALSE}
cat(readLines("allgr.md"), sep = "\n")
```
</div>

Mean R-squared: 0.17

N. negative coefficients expenditure: 15/27 = `r round(15/27 * 100, 1)`%

N. significant coefficients expenditure: 11/27 = `r round(11/27 * 100, 1)`%

Comments:

-   Expenditure often non significant both negative and positive coefficients
-   Poor binaries basically never significant coefficients both ways
-   GDP almost always significant, when significant negative
-   Investment when significant is negative
-   Education is non significant, coefficients both ways

<div style="
  width: calc(100vw - 2rem);
  margin-left: calc(-50vw + 50% + 1rem);
  overflow-x: auto;
">
```{r, results='asis', echo=FALSE}
cat(readLines("allgr_int.md"), sep = "\n")
```
</div>

### Final consideration

1.  Absolute value with a little higher r-squared and higher number of significant expenditure coefficients, but all growth rates model has more of the expected coefficients.

2.  All growth rates model seems to be better than model 1.2 although it is more difficult to give growth rate of expenditure an empirical meaning.

3.  Education seems like a not significant variable in any of the models.

4.  Investment seems more relevant than GDP when using absolute values, but GDP seems more relevant than investment when using growth rates.

5.  Poor binaries seem to be relevant mainly in the absolute model, but I am not sure of their interpretation of in the model. Not so relevant in the other models.

6.  Running models with only control variables such as just GDP, or GDP + poor binaries, or GDP + Investment etc. confirms all the results and intuitions above.

7.  Running models with no controls, just with different lags of expenditure to try to understand the best specification for expenditure leads to the following conclusions:

    -   For absolute value model: R2 of the model increases as you increase the lag of the expenditure. Although significant, coefficients are always positive for expenditure (almost 100% of the times).

    -   For unemp. growth rate and abs. value expenditure model: R2 only increases slightly by increasing the lag. Number of negative coefficients or of significant coefficients remains the same.

    -   For all growth rates model: no significant pattern found, R2 fluctuates up and down. Number of negative or significant coefficients also fluctuates.

## 2 - Autoregressive model

y = abs. value of unemployment

x = abs. value of expenditure + lag-1 abs. value of unemployment

<div style="
  width: calc(100vw - 2rem);
  margin-left: calc(-50vw + 50% + 1rem);
  overflow-x: auto;
">
```{r, results='asis', echo=FALSE}
cat(readLines("autoreg_ab.md"), sep = "\n")
```
</div>

Mean R-squared: 0.91

N. negative coefficients expenditure: 15/31 = `r round(15/31 * 100, 1)`%

N. significant coefficients expenditure: 16/31 = `r round(16/31 * 100, 1)`%

Comments:

-   R2 clearly much higher with lag unemployment very significant
-   Expenditure often is still not significant and coefficients go both ways
-   Including GDP or poor binaries does not improve the model, nor does it lagging the expenditure variable

<div style="
  width: calc(100vw - 2rem);
  margin-left: calc(-50vw + 50% + 1rem);
  overflow-x: auto;
">
```{r, results='asis', echo=FALSE}
cat(readLines("autoreg_ab_int.md"), sep = "\n")
```
</div>


Autoregressive model were also run using growth rate of unemployment as y and including its lagged version as regressor:

-   Lag unemployment in growth rate not always significant
-   Expenditure often non significant, coefficients mainly negative, but also positive

Final considerations:

1.  Using autoregressive models seems to be useful only in the case of absolute terms, as it could have been expected.

2.  The absolute model improves significantly and expenditure tends to be more negative than the base model, however it is still mostly positive and/or insignificant. Growth rates model do not have substantial improvements although also for them using autoregressive models seems to lead to a but more negative coefficients for expenditure

## 3 - Growth rates over long period of times

Taken by Okun's Law

y = 3y. growth rate of unemployment

x = 3y. growth rate of gdp + sum of expenditure over previous 3y.

<div style="
  width: calc(100vw - 2rem);
  margin-left: calc(-50vw + 50% + 1rem);
  overflow-x: auto;
">
```{r, results='asis', echo=FALSE}
cat(readLines("okun.md"), sep = "\n")
```
</div>

Mean R-squared: 0.16

N. negative coefficients expenditure: 21/37 = `r round(21/37 * 100, 1)`%

N. significant coefficients expenditure: 12/37 = `r round(12/37 * 100, 1)`%

Comments:

-   GDP always negative and significant
-   Expenditure not often significant, coefficients both ways
-   Same models was tried with 3-years window, 5-years window, 7-years window. Increasing the window tends to yield higher Rsquared. No changes for the coefficients of expenditure
-   Adding poor binaries increases a bit the Rsquared, but worsens relevance of expenditure

<div style="
  width: calc(100vw - 2rem);
  margin-left: calc(-50vw + 50% + 1rem);
  overflow-x: auto;
">
```{r, results='asis', echo=FALSE}
cat(readLines("okun_int.md"), sep = "\n")
```
</div>

## 4 - Using averages

y = 3y. avg. absolute value of unemployment

x = 3y. avg. absolute value of gdp + 3y. avg. expenditure + poor dummies

<div style="
  width: calc(100vw - 2rem);
  margin-left: calc(-50vw + 50% + 1rem);
  overflow-x: auto;
">
```{r, results='asis', echo=FALSE}
cat(readLines("avg.md"), sep = "\n")
```
</div>

Mean R-squared: 0.28

N. negative coefficients expenditure: 11/37 = `r round(11/37 * 100, 1)`%

N. significant coefficients expenditure: 31/37 = `r round(31/37 * 100, 1)`%

Comments:

-   R2 much higher
-   Expenditure much more often significant, but mainly positive (as in the basic absolute value model). Positive especially in later years.
-   GDP usually significant and negative
-   Poor binaries improve the R2 significantly, and indeed they are usually significant but they have the same weird behavior as in the basic model (first positive then negative). Such behavior is the inverse of what happens to expenditure basically.
-   Running the model with a wider temporal window improves R2, leaving pretty much the same relevance and direction of the coefficients of expenditure

Overall results above are really similar to model 1.1, standard model with everything in absolute values.

<div style="
  width: calc(100vw - 2rem);
  margin-left: calc(-50vw + 50% + 1rem);
  overflow-x: auto;
">
```{r, results='asis', echo=FALSE}
cat(readLines("avg_int.md"), sep = "\n")
```
</div>

I also tried to run average models for growth rate of unemployment. Basically instead of taking the growth rate over 3y like in model 3, taking the average of each annual growth rate over the same period. Results were similar to model 3.

## 5 - GDP models

Models with GDP as the dependent variable. Similar to Okun's law.

Now we expect expenditure to have a positive effect on GDP.

### 5.1 Just expenditure and unemployment

No poor dummies.

y = 3y. growth rate of gdp

x = 3y. growth rate of unemployment + sum of expenditure over previous 3y.

<div style="
  width: calc(100vw - 2rem);
  margin-left: calc(-50vw + 50% + 1rem);
  overflow-x: auto;
">
```{r, results='asis', echo=FALSE}
cat(readLines("gdp_nop.md"), sep = "\n")
```
</div>

Mean R-squared: 0.21

N. positive coefficients expenditure: 25/37 = `r round(25/37 * 100, 1)`%

N. significant coefficients expenditure: 25/37 = `r round(25/37 * 100, 1)`%

Comments:

-   Decent R2
-   Expenditure often positive and significant, although it also has some negative and significant
-   Unemployment always negative and significant
-   Increasing time window increase R2 without affecting too much expenditure coefficients

### 5.2 Adding poor dummies

Adding poor dummies.

y = 3y. growth rate of gdp

x = 3y. growth rate of unemployment + sum of expenditure over previous 3y. + poor binaries

<div style="
  width: calc(100vw - 2rem);
  margin-left: calc(-50vw + 50% + 1rem);
  overflow-x: auto;
">
```{r, results='asis', echo=FALSE}
cat(readLines("gdp_yesp.md"), sep = "\n")
```
</div>

Mean R-squared: 0.26

N. positive coefficients expenditure: 19/37 = `r round(19/37 * 100, 1)`%

N. significant coefficients expenditure: 17/37 = `r round(17/37 * 100, 1)`%

Comments:

-   Slightly higher R2
-   Expenditure when significant is negative!!
-   Unemployment always negative and significant
-   Poor dummies often significant and they are positive!!


<div style="
  width: calc(100vw - 2rem);
  margin-left: calc(-50vw + 50% + 1rem);
  overflow-x: auto;
">
```{r, results='asis', echo=FALSE}
cat(readLines("gdp_yesp_int.md"), sep = "\n")
```
</div>
